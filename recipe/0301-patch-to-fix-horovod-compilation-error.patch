From 69ad44ab3f8ae1a5fa89d4046c66f027fe5fc531 Mon Sep 17 00:00:00 2001
From: Deepali Chourasia <deepch23@in.ibm.com>
Date: Wed, 10 May 2023 05:53:42 +0000
Subject: [PATCH] patch to fix horovod compilation error

---
 horovod/tensorflow/xla_mpi_ops.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/horovod/tensorflow/xla_mpi_ops.cc b/horovod/tensorflow/xla_mpi_ops.cc
index 5a81f31..84973db 100644
--- a/horovod/tensorflow/xla_mpi_ops.cc
+++ b/horovod/tensorflow/xla_mpi_ops.cc
@@ -408,7 +408,7 @@ private:
   typedef absl::flat_hash_map<uint64, Queue*> Table;
 
   mutex mu_;
-  Table table_ GUARDED_BY(mu_);
+  Table table_ TF_GUARDED_BY(mu_);
 };
 
 /*static*/ HVDCustomCallRendezvous* GetHVDCustomCallRendezvous() {
-- 
2.34.1

